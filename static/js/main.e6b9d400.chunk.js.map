{"version":3,"sources":["hooks/useCurrentSpace.js","hooks/useWallet.js","constants/index.js","utils/index.js","images/not-allow.png","../public/locales/index.js","images/global.svg","images/lang.svg","hooks/useCurrentNetwork.js","hooks/useIsNetworkMatch.js","pages/components/Header/index.js","utils/cfx.js","hooks/useController.js","hooks/usePoolContract.js","pages/Pool/Header.js","pages/Pool/ConfirmModal.js","pages/Pool/TxModal.js","images/success_big.png","images/tips.svg","pages/Pool/index.js","App.js","reportWebVitals.js","index.js","../pool.config.js"],"names":["useCurrentSpace","pathname","useLocation","startsWith","useAccount","currentSpace","fluentAccount","useFluentAccount","metaMaskAccount","useMetaMaskAccount","NETWORK_ID_CORE_MAINNET","poolConfig","mainnet","core","networkId","NETWORK_ID_CORE_TESTNET","testnet","NETWORK_ID_ESPACE_MAINNET","eSpace","NETWORK_ID_ESPACE_TESTNET","CFX_BASE_PER_VOTE","SCAN_URL","StatusPosNode","isTestNetEnv","window","process","REACT_APP_TestNet","location","hostname","includes","getCfxByVote","vote","BigNumber","multipliedBy","toNumber","getApy","data","dividedBy","calculateGasMargin","value","margin","toString","plus","toFixed","getDateByBlockInterval","minuend","subtrahend","space","minuendBn","subtrahendBn","isGreater","isGreaterThan","seconds","minus","futureDate","Date","now","pastDate","getEllipsStr","str","frontNum","endNum","length","substring","getPrecisionAmount","amount","precision","i18n","use","initReactI18next","init","lng","config","defaultLang","debug","resources","en","translation","zh","id","vn","ko","interpolation","escapeValue","useCurrentNetwork","useMemo","url","RPC","origin","name","useIsNetworkMatch","currentNetwork","fluentChainId","useFluentChainId","metaMaskChainId","useMetaMaskChainId","usedChainId","String","Header","Layout","isTest","HeaderComp","t","useTranslation","address","tryActivate","connectFluent","connectMetaMask","networkError","useState","hover","setHover","isModalOpen","setIsModalOpen","navigate","useNavigate","networks","onClick","key","items","label","langs","changeLanguage","style","width","height","padding","backgroundColor","title","open","onOk","onCancel","className","message","type","showIcon","overlay","placement","onMouseEnter","onMouseLeave","src","global","alt","lang","color","listStyleType","listStylePosition","marginLeft","addr","result","left","rightIndex","ellipsisAddr","border","createPortal","NotAllow","network","document","body","cfxUrl","conflux","Conflux","getPosAccountByPowAddress","Contract","abi","posManagerAbi","poolManagerAddress","a","posPoolContract","posPoolAbi","format","posAddress","hex","provider","call","posAccout","useController","ethers","providers","JsonRpcProvider","usePoolContract","poolAddress","useParams","controller","contract","interface","utils","Interface","status","usePosPoolContract","lockedCfx","setLockedCfx","totalRevenue","setTotalRevenue","apy","setApy","setName","useEffect","proArr","push","poolSummary","poolAPY","poolName","Promise","all","_hex","Drip","toCFX","fetchData","cardStyle","fontSize","fontWeight","lineHeight","marginRight","cardTitle","marginTop","bordered","text","getStatusTag","textAlign","ConfirmModal","visible","setVisible","content","okText","TxModal","txHash","networkVersion","getNetworkUrl","maskClosable","footer","href","target","rel","Pool","chainId","useChainId","accountAddress","sendTransaction","sendTransactionWithFluent","sendTransactionWithMetaMask","Form","useForm","form","_balance","fluentBalance","useFluentBalance","metaMaskBalance","useMetaMaskBalance","useBalance","balance","toDecimalStandardUnit","cfxMaxCanStake","isGreaterThanOrEqualTo","multiple","Math","floor","getMax","useSearchParams","searchParams","posPoolInterface","setStatus","stakedCfx","setStakedCfx","rewards","setRewards","fee","setFee","cfxCanUnstake","setCfxCanUnstate","cfxCanWithdraw","setCfxCanWithdraw","inputStakeCfx","setInputStakeCfx","inputUnstakeCfx","setInputUnstakeCfx","userSummary","setUserSummary","currentBlockNumber","setCurrentBlockNumber","lastDistributeTime","setLastDistributeTime","unstakeList","setUnstakeList","stakeModalShown","setStakeModalShown","unstakeModalShown","setUnStakeModalShown","txModalShown","setTxModalShown","setTxHash","stakeInputStatus","setStakeInputStatus","stakeErrorText","setStakeErrorText","unstakeInputStatus","setUnstakeInputStatus","unstakeErrorText","setUnstakeErrorText","stakeBtnDisabled","setStakeBtnDisabled","unstakeBtnDisabled","setUnstakeBtnDisabled","isLoading","setIsLoading","waitStakeRes","setWaitStakeRes","isNetworkMatch","confluxController","fetch","JSON","stringify","jsonrpc","method","params","headers","then","response","json","res","currentBlock","blockNumber","lastDistribute","lastDistributeBlock","toLocaleString","get","posAccount","forceRetired","console","log","stakeCfxNum","Number","error","cfxNum","fetchPoolData","useCallback","userInterest","userOutQueue","userSum","transferQueue","userShareRatio","from","poolUserShareRatio","userFee","queueList","arr","forEach","item","timeStr","submit","estimateData","stakeVote","increaseStake","estimateGasAndCollateral","encodeFunctionData","unstakeVote","decreaseStake","claimAllInterest","withdrawStake","txParams","to","Unit","fromMinUnit","toHexMinUnit","metaMaskProvider","request","gasLimit","gas","storageCollateralized","storageLimit","RegExp","test","checkNetwork","callback","position","layout","wrapperCol","Item","required","validateStatus","help","span","background","placeholder","onChange","e","suffix","disabled","dashed","borderColor","offset","isEqualTo","tips","orientation","dataSource","renderItem","time","Content","App","fallback","backgroudSize","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","completeDetect","completeDetectEthereum","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.e6b9d400.chunk.js","sourcesContent":["import {useLocation} from 'react-router-dom'\n\nconst useCurrentSpace = () => {\n    const { pathname } = useLocation();\n    return pathname.startsWith('/pool/core/') ? 'core' : (pathname.startsWith('/pool/e-space/') ? 'eSpace' : null); \n}\n\nexport default useCurrentSpace;\n","import useCurrentSpace from './useCurrentSpace'\nimport {\n  useAccount as useFluentAccount,\n  useChainId as useFluentChainId,\n  useBalance as useFluentBalance,\n  sendTransaction as sendTransactionWithFluent,\n  connect as connectFluent,\n  Unit,\n} from '@cfxjs/use-wallet'\nimport {\n  useAccount as useMetaMaskAccount,\n  useChainId as useMetaMaskChainId,\n  useBalance as useMetaMaskBalance,\n  sendTransaction as sendTransactionWithMetaMask,\n  connect as connectMetaMask,\n} from '@cfxjs/use-wallet/dist/ethereum'\n\nexport const useAccount = () => {\n  const currentSpace = useCurrentSpace()\n  const fluentAccount = useFluentAccount()\n  const metaMaskAccount = useMetaMaskAccount();\n  if (!currentSpace) return undefined\n  return (currentSpace === 'core' ? fluentAccount : metaMaskAccount)\n}\n\nexport const useChainId = () => {\n  const currentSpace = useCurrentSpace()\n  const fluentChainId = useFluentChainId()\n  const metaMaskChainId = useMetaMaskChainId()\n  if (!currentSpace) return undefined\n  return (currentSpace === 'core' ? fluentChainId : metaMaskChainId)\n}\n\nexport const useBalance = () => {\n  const currentSpace = useCurrentSpace()\n  const fluentBalance = useFluentBalance()\n  const metaMaskBalance = useMetaMaskBalance()\n  if (!currentSpace) return undefined;\n  return (currentSpace === 'core' ? fluentBalance : metaMaskBalance)\n}\n\nexport const useSendTransaction = () => {\n  const currentSpace = useCurrentSpace()\n  return currentSpace === 'core'\n    ? sendTransactionWithFluent\n    : sendTransactionWithMetaMask\n}\n\nexport const useTryActivate = () => {\n  const currentSpace = useCurrentSpace()\n  return currentSpace === 'core'\n    ? connectFluent\n    : connectMetaMask\n}\n\nexport {Unit}\n","import poolConfig from '../../pool.config';\nexport const TypeConnectWallet = {\n    uninstalled: 'uninstalled',\n    loading: 'loading',\n    error: 'error',\n    success: 'success',\n}\n\nexport const NETWORK_ID_CORE_MAINNET = poolConfig.mainnet.core.networkId;\nexport const NETWORK_ID_CORE_TESTNET = poolConfig.testnet.core.networkId;\nexport const NETWORK_ID_ESPACE_MAINNET = poolConfig.mainnet.eSpace.networkId;\nexport const NETWORK_ID_ESPACE_TESTNET = poolConfig.testnet.eSpace.networkId;\nexport const CFX_BASE_PER_VOTE=1000\nexport const SCAN_URL = \"https://confluxscan.io\"\nexport const SCAN_URL_TESTNET = \"https://testnet.confluxscan.io\"\nexport const SCAN_URL_DEVENT = \"https://devnet-scantest.confluxnetwork.org\"\nexport const SCAN_URL_POS_DEV = \"https://posrc.confluxscan.net\"\nexport const RemainderAmount=1 // you must have 1 cfx in wallet to pay gas fee\n\nexport const StatusPosNode={\n    loading:'loading',\n    error:'error',\n    success:'success',\n    warning:'warning'\n}","import BigNumber from \"bignumber.js\";\nimport {\n  CFX_BASE_PER_VOTE,\n  SCAN_URL,\n  SCAN_URL_TESTNET,\n  SCAN_URL_DEVENT,\n  SCAN_URL_POS_DEV,\n  RemainderAmount,\n} from \"../constants\";\n\nexport const isTestNetEnv = () => {\n  if (typeof window !== `undefined`) {\n    return (\n      process.env.REACT_APP_TestNet === \"true\" ||\n      window.location.hostname.includes(\"test\")\n    );\n  }\n  return false;\n};\n\nexport const getCfxByVote = (vote) =>\n  new BigNumber(vote).multipliedBy(CFX_BASE_PER_VOTE).toNumber();\nexport const getApy = (data) => new BigNumber(data).dividedBy(100).toNumber();\nexport const getFee = (userFee) =>\n  new BigNumber(100).minus(new BigNumber(userFee).dividedBy(100)).toNumber();\n\n// add 10% by default\nexport function calculateGasMargin(value, margin = 0.1) {\n  return new BigNumber(value?.toString(10))\n    .multipliedBy(new BigNumber(10000).plus(new BigNumber(10000 * margin)))\n    .dividedBy(new BigNumber(10000))\n    .toFixed(0);\n}\n\nexport const getDateByBlockInterval = (minuend = 0, subtrahend = 0, space = 'core') => {\n  const minuendBn = new BigNumber(minuend);\n  const subtrahendBn = new BigNumber(subtrahend);\n  const isGreater = minuendBn.isGreaterThan(subtrahendBn);\n  const seconds = isGreater\n    ? minuendBn.minus(subtrahendBn).dividedBy(space === 'core' ? 2 : 1).toNumber()\n    : subtrahendBn.minus(minuendBn).dividedBy(space === 'core' ? 2 : 1).toNumber();\n  const futureDate = new Date(\n    new BigNumber(Date.now()).plus(seconds * 1000).toNumber()\n  );\n  const pastDate = new Date(\n    new BigNumber(Date.now()).minus(seconds * 1000).toNumber()\n  );\n  return isGreater ? futureDate : pastDate;\n};\n\nexport const getEllipsStr = (str, frontNum, endNum) => {\n  if (str) {\n    const length = str.length;\n    if (endNum === 0 && length <= frontNum) {\n      return str.substring(0, frontNum);\n    }\n    return (\n      str.substring(0, frontNum) +\n      \"...\" +\n      str.substring(length - endNum, length)\n    );\n  }\n  return \"\";\n};\n\nexport const getNetworkUrl = () => {\n  let networkVersion = \"\";\n  if (typeof window !== `undefined`) {\n    networkVersion = window.conflux?.networkVersion;\n  }\n  let url = \"\";\n  switch (networkVersion) {\n    case \"1029\":\n      url = SCAN_URL;\n      break;\n    case \"1\":\n      url = SCAN_URL_TESTNET;\n      break;\n    case \"1921\":\n      url = SCAN_URL_DEVENT;\n      break;\n    case \"8888\":\n      url = SCAN_URL_POS_DEV;\n      break;\n    default:\n      url = SCAN_URL;\n      break;\n  }\n  return url;\n};\n\nexport const getMax = (amount) => {\n  const amountBn = new BigNumber(amount);\n  if (\n    amountBn.isGreaterThanOrEqualTo(\n      new BigNumber(CFX_BASE_PER_VOTE).plus(RemainderAmount)\n    )\n  ) {\n    const multiple = Math.floor(\n      new BigNumber(amount)\n        .minus(RemainderAmount)\n        .dividedBy(CFX_BASE_PER_VOTE)\n        .toNumber()\n    );\n    return new BigNumber(multiple).multipliedBy(CFX_BASE_PER_VOTE).toNumber();\n  }\n  return 0;\n};\n\nexport const getPrecisionAmount=(amount,precision=0)=>{\n  return new BigNumber(amount).toFixed(precision)\n}\n","export default __webpack_public_path__ + \"static/media/not-allow.ecffa81e.png\";","import i18n from 'i18next'\nimport {initReactI18next} from 'react-i18next'\nimport en from './en/translation.json';\nimport zh from './zh/translation.json';\nimport id from './id/translation.json';\nimport ko from './ko/translation.json';\nimport vn from './vn/translation.json';\nimport config from '../../pool.config';\n\ni18n\n  .use(initReactI18next)\n  .init({\n    lng: config.defaultLang || 'en',\n    debug: true,\n    resources: {\n      en: {\n        translation: en\n      },\n      zh: {\n        translation: zh\n      },\n      id: {\n        translation: id\n      },\n      vn: {\n        translation: vn\n      },\n      ko: {\n        translation: ko\n      },\n    },\n    interpolation: {\n      escapeValue: false,\n    },\n  })\n\nexport default i18n\n","export default __webpack_public_path__ + \"static/media/global.b9706118.svg\";","export default __webpack_public_path__ + \"static/media/lang.2c683e02.svg\";","import { useMemo } from 'react';\nimport { isTestNetEnv } from \"../utils/index\";\nimport { NETWORK_ID_CORE_MAINNET, NETWORK_ID_CORE_TESTNET, NETWORK_ID_ESPACE_MAINNET, NETWORK_ID_ESPACE_TESTNET } from \"../constants\";\nimport poolConfig from '../../pool.config';\nimport useCurrentSpace from './useCurrentSpace';\n\nconst useCurrentNetwork = () => {\n    const currentSpace = useCurrentSpace();\n    const network = useMemo(() => {\n        if (!currentSpace) return null;\n        const networkId = isTestNetEnv() ? \n            (currentSpace === 'core' ? NETWORK_ID_CORE_TESTNET : NETWORK_ID_ESPACE_TESTNET)\n            : (currentSpace === 'core' ? NETWORK_ID_CORE_MAINNET : NETWORK_ID_ESPACE_MAINNET)\n\n        let url = poolConfig[isTestNetEnv() ? 'testnet' : 'mainnet'][currentSpace].RPC;\n        if (process.env.REACT_APP_TestNet === \"true\") {\n            url = window.location.origin + `/${currentSpace}-rpc`;\n        }\n\n        return ({\n            url,\n            networkId,\n            name: poolConfig[isTestNetEnv() ? 'testnet' : 'mainnet'][currentSpace].name\n        });\n    }, [currentSpace]);\n    return network;\n}\n\nexport default useCurrentNetwork;\n","import { useChainId as useFluentChainId } from \"@cfxjs/use-wallet\";\nimport { useChainId as useMetaMaskChainId } from \"@cfxjs/use-wallet/dist/ethereum\";\nimport useCurrentSpace from \"./useCurrentSpace\";\nimport useCurrentNetwork from \"./useCurrentNetwork\";\n\nconst useIsNetworkMatch = () => {\n    const currentSpace = useCurrentSpace()\n    const currentNetwork = useCurrentNetwork()\n    const fluentChainId = useFluentChainId()\n    const metaMaskChainId = useMetaMaskChainId()\n    if (!currentSpace) return true;\n    const usedChainId = currentSpace === 'core' ? fluentChainId : metaMaskChainId\n    return String(currentNetwork.networkId) === String(usedChainId);\n}\n\nexport default useIsNetworkMatch;","import {createPortal} from 'react-dom'\n// import {Link} from 'react-router-dom' hypnos\n// import { Layout, Button, Select } from 'antd' hypnos\nimport {Layout, Button} from 'antd'\nimport {Menu, Dropdown, Alert, Modal} from 'antd' // hypnos\nimport {useTranslation} from 'react-i18next'\nimport {useTryActivate, useAccount} from '../../../hooks/useWallet'\nimport {isTestNetEnv} from '../../../utils'\nimport NotAllow from '../../../images/not-allow.png'\nimport i18n from '../../../../public/locales'\nimport './index.css' //hypnos\nimport global from '../../../images/global.svg' //hypnos\nimport lang from '../../../images/lang.svg' //hypnos\nimport {useState} from 'react' //hypnos\nimport {Tag} from 'antd' //hypnos\nimport useCurrentSpace from '../../../hooks/useCurrentSpace'\nimport useCurrentNetwork from '../../../hooks/useCurrentNetwork'\nimport useIsNetworkMatch from '../../../hooks/useIsNetworkMatch'\n\nimport {useNavigate} from 'react-router-dom' //hypnos\n\n// const { Option } = Select hypnos\nconst {Header} = Layout\nconst isTest = isTestNetEnv()\n\nfunction HeaderComp() {\n  const {t} = useTranslation()\n  const address = useAccount()\n  const tryActivate = useTryActivate()\n  const isNetworkMatch = useIsNetworkMatch()\n  const networkError = !isNetworkMatch\n  const currentSpace = useCurrentSpace()\n  const currentNetwork = useCurrentNetwork()\n\n  // hypnos+s\n  const [hover, setHover] = useState(false)\n  const [isModalOpen, setIsModalOpen] = useState(true)\n\n  // const showModal = () => {\n  //   setIsModalOpen(true)\n  // }\n\n  const handleOk = () => {\n    setIsModalOpen(false)\n  }\n\n  const handleCancel = () => {\n    setIsModalOpen(false)\n  }\n\n  // hypnos+f\n  function ellipsisAddr(addr) {\n    let result\n    if (addr.length > 16) {\n      let left = addr.substring(0, 12)\n      let ellipsis = '...'\n      let rightIndex = addr.length - 4\n      let right = addr.substring(rightIndex)\n      result = left + ellipsis + right\n    }\n    return result\n  }\n\n  // hypnos+l\n  let navigate = useNavigate()\n  // hypnos+c\n  const onClickNet = ({key}) => {\n    navigate(key)\n  }\n  // hypnos+n\n  const networks = (\n    <Menu\n      onClick={onClickNet}\n      items={[\n        {\n          label: 'Conflux Core',\n          key: '/pool/core/0x82c692e9d7e5403fe024ac34f9d4af070de45e0a',\n        },\n        {\n          label: 'Conflux eSpace',\n          key: '/pool/e-space/0x26E63d130350CB21d8cb4614DDdB479D44bc1960?coreAddress=0x82c692e9d7e5403fe024ac34f9d4af070de45e0a',\n        },\n      ]}\n    />\n  )\n\n  // hypnos+c\n  const onClickLang = ({key}) => {\n    i18n.changeLanguage(key)\n  }\n  // hypnos+l\n  const langs = (\n    <Menu\n      onClick={onClickLang}\n      items={[\n        {\n          label: 'English',\n          key: 'en',\n        },\n        {\n          label: 'Vietnamese',\n          key: 'vn',\n        },\n      ]}\n    />\n  )\n\n  return (\n    // <Header style={{ width: '100%', height: 'fit-content', padding: 0 }}>\n    // hypnos\n    <Header\n      style={{\n        width: '100%',\n        height: 'fit-content',\n        padding: 0,\n        backgroundColor: 'transparent',\n      }}\n    >\n      {/* hypnos+m */}\n      <Modal\n        title=\"Offline warning\"\n        open={isModalOpen}\n        onOk={handleOk}\n        onCancel={handleCancel}\n      >\n        <p>\n          The pool will be offline on February 22, 2023. The staking operation\n          will no longer be available at that time. Users can manually withdraw\n          the CFX staked in the pool, any unwithdrawn CFX will be returned\n          automatically by March 8.\n        </p>\n      </Modal>\n      {/* hypnos+a */}\n      <div className=\"w-full h-20\">\n        <div className=\"position: fixed z-50 top-0\">\n          <Alert\n            message=\"The pool will be offline on February 22, 2023. The staking operation will no longer be available at that time. Users can manually withdraw the CFX staked in the pool, any unwithdrawn CFX will be returned automatically by March 8.\"\n            type=\"warning\"\n            showIcon\n          />\n        </div>\n      </div>\n      {isTest && (\n        <div className=\"w-full h-[64px] leading-[64px] text-[#f3504f] bg-[#f3504f] bg-opacity-20 z-[49] text-[16px] text-center border-b border-[#f3504f]\">\n          {t('Header.test_note')}\n        </div>\n      )}\n      {/* hypnos */}\n      {/* <div className=\"flex justify-between text-white bg-main-back bg-opacity-0 px-[50px]\"> */}\n      {/* hypnos */}\n      <div className=\"flex justify-between text-white bg-white bg-opacity-70 font-body\">\n        {/* <div>\n                    <Link\n                        to=\"/pool-manage\"\n                    >\n                        {t('Header.pos_pool')}\n                    </Link>\n                </div> */}\n        {/* hypnos */}\n        {/* hypnos+d */}\n        <div\n          className=\"w-[1200px] flex justify-between h-[72px] flex-wrap\"\n          style={{margin: '0 auto'}}\n        >\n          <div className=\"w-[600px]\">\n            <p className=\"title\">Hydragon</p>\n          </div>\n          {/* <div className=\"flex items-center\"> hypnos */}\n          <div className=\"flex items-center w-[600px] flex-row-reverse h-[72px]\">\n            {/* hypnos+d */}\n            <Dropdown\n              overlay={langs}\n              placement=\"bottom\"\n              onMouseEnter={() => setHover(true)}\n              onMouseLeave={() => setHover(false)}\n            >\n              <div className=\"w-[50px] h-[50px] ml-6 flex items-center justify-center\">\n                {!hover && <img src={global} alt=\"\" />}\n                {hover && <img src={lang} alt=\"\" />}\n              </div>\n            </Dropdown>\n            {currentSpace && address && (\n              <Tag\n                className=\"w-[245px] text-center\"\n                style={{backgroundColor: '#546FFF'}}\n              >\n                <ul className=\"font-medium text-base my-[9px]\">\n                  <li\n                    style={{\n                      color: '#44D7B6',\n                      listStyleType: 'disc',\n                      listStylePosition: 'inside',\n                    }}\n                  >\n                    <span style={{color: 'white', marginLeft: '-5px'}}>\n                      {ellipsisAddr(address)}\n                    </span>\n                  </li>\n                </ul>\n              </Tag>\n            )}\n            {currentSpace && !address && (\n              <Button\n                className=\"mr-4 w-[245px]\"\n                style={{\n                  border: '1px solid #546FFF',\n                  color: '#546FFF',\n                  height: 40,\n                }}\n                onClick={tryActivate}\n              >\n                {t(\n                  currentSpace === 'core'\n                    ? 'Header.connect_fluent'\n                    : 'Header.connect_metamask',\n                )}\n              </Button>\n            )}\n            {/* hypnos+d */}\n            <Dropdown overlay={networks} placement=\"bottom\">\n              <Button\n                className=\"mr-4 w-[150px]\"\n                style={{\n                  border: '1px solid #546FFF',\n                  color: '#546FFF',\n                  height: 40,\n                }}\n              >\n                Switch Network\n              </Button>\n            </Dropdown>\n            {/* <Select\n                        style={{ marginRight: '20px' }}\n                        defaultValue={i18n.language}\n                        onChange={lng => i18n.changeLanguage(lng)}\n                    >\n                        <Option value=\"en\">English</Option>\n                        <Option value=\"vn\">Vietnamese</Option>\n                        <Option value=\"id\">Indonesian</Option>\n                        <Option value=\"ko\">Korean</Option>\n                        <Option value=\"zh\">中文</Option>\n                    </Select> */}\n            {/* {currentSpace && address && <div>{address}</div>}\n                    {currentSpace && !address && (\n                        <Button type=\"primary\" onClick={tryActivate}>\n                            {t(currentSpace === 'core' ? 'Header.connect_fluent' : 'Header.connect_metamask')}\n                        </Button>\n                    )} hypnos */}\n          </div>\n        </div>\n      </div>\n      {networkError &&\n        createPortal(\n          <div className=\"fixed top-0 left-0 w-[100vw] h-[100vh] bg-black bg-opacity-25 z-50\">\n            <div className=\"absolute top-[40%] left-[50%] translate-x-[-50%] translate-y-[-50%] flex flex-col justify-center items-center w-[480px] h-[390px] px-[28px] py-[12px] bg-white shadow rounded-md\">\n              <img\n                className=\"w-[340px] h-[240px]\"\n                src={NotAllow}\n                alt=\"not allow imgs\"\n              />\n              <p className=\"text-[32px] leading-[32px] text-[#333] my-[16px] font-bold\">\n                {t('Header.error')}\n              </p>\n              <p className=\"text-[16px] leading-[24px] text-[#999] my-0 font-medium\">\n                {t('Header.unspport_network_switch', {\n                  network: currentNetwork?.name || '',\n                })}\n              </p>\n            </div>\n          </div>,\n          document.body,\n        )}\n    </Header>\n  )\n}\n\nexport default HeaderComp\n","import {\n  format,\n  Drip,\n  Conflux,\n} from 'js-conflux-sdk/dist/js-conflux-sdk.umd.min.js'\n// import {abi as posPoolAbi} from './../../../contract/ABI/IPoSPool.json' hypnos\nimport { abi as posPoolAbi } from \"./../../contract/ABI/IPoSPool.json\"\n// import {abi as posManagerAbi} from './../../../contract/ABI/PoolManager.json'\nimport { abi as posManagerAbi } from \"./../../contract/ABI/PoolManager.json\"\nimport poolConfig from '../../pool.config'\nimport {isTestNetEnv} from './index'\nimport {NETWORK_ID_CORE_MAINNET, NETWORK_ID_CORE_TESTNET} from '../constants'\n\nlet cfxUrl = poolConfig[isTestNetEnv() ? 'testnet' : 'mainnet'].core.RPC\n\nif (process.env.REACT_APP_TestNet === 'true') {\n  cfxUrl = window.location.origin + `/core-rpc`\n}\n\nexport const conflux = new Conflux({\n  url: cfxUrl,\n  networkId: isTestNetEnv() ? NETWORK_ID_CORE_TESTNET : NETWORK_ID_CORE_MAINNET,\n})\n\nexport const posPoolManagerContract = conflux.Contract({\n  abi: posManagerAbi,\n  address:\n    poolConfig[isTestNetEnv() ? 'testnet' : 'mainnet'].poolManagerAddress,\n})\n\nexport const getPosAccountByPowAddress = async address => {\n  const posPoolContract = conflux.Contract({\n    abi: posPoolAbi,\n    address: address,\n  });\n\n  const posAddress = format.hex(await posPoolContract.posAddress())\n  const posAccout = await conflux.provider.call('pos_getAccount', posAddress)\n  return posAccout\n}\n\nexport {format, Drip}\n","import { useMemo } from 'react';\nimport {Conflux} from \"js-conflux-sdk/dist/js-conflux-sdk.umd.min.js\";\nimport useCurrentNetwork from './useCurrentNetwork';\nimport useCurrentSpace from './useCurrentSpace';\nimport { ethers, Contract} from 'ethers';\n\nconst useController = () => {\n    const currentSpace = useCurrentSpace();\n    const currentNetwork = useCurrentNetwork();\n    return useMemo(() => {\n        if (currentSpace === 'eSpace') {\n            const provider = new ethers.providers.JsonRpcProvider(currentNetwork.url);\n            return {\n                Contract: ({ abi, address }) => new Contract(address, abi, provider),\n                provider\n            }\n        }\n        return new Conflux(currentNetwork)\n    }, [currentSpace, currentNetwork]);\n}\n\nexport default useController;\n","import { useMemo } from 'react';\nimport useController from './useController';\n// import { abi as posPoolAbi } from \"./../../../contract/ABI/IPoSPool.json\"; hypnos\nimport { abi as posPoolAbi } from \"./../../contract/ABI/IPoSPool.json\"\nimport { useParams } from \"react-router-dom\";\nimport { utils } from 'ethers';\n\nconst usePoolContract = () => {\n    const { poolAddress } = useParams();\n    const controller = useController();\n\n    return useMemo(() => {\n        return {\n            contract: controller.Contract({\n                abi: posPoolAbi,\n                address: poolAddress,\n            }),\n            interface: new utils.Interface(posPoolAbi)\n        }\n    }\n    , [poolAddress, controller]);\n}\n\nexport default usePoolContract;\n","import React, { useState, useEffect } from \"react\";\n// import { Card, Tag } from \"antd\"; hypnos\nimport { Card } from \"antd\";\nimport { useParams } from \"react-router-dom\";\nimport BigNumber from \"bignumber.js\";\n// import {\n//   CheckCircleOutlined,SyncOutlined,CloseCircleOutlined\n// } from '@ant-design/icons'; hypnos\n\nimport { Drip } from \"../../utils/cfx\";\nimport { getCfxByVote, getApy, getPrecisionAmount } from \"../../utils\";\nimport { StatusPosNode } from \"../../constants\";\nimport { useTranslation } from 'react-i18next'\nimport usePosPoolContract from '../../hooks/usePoolContract'\n\n// hypnos\nimport './index.css'\n\nfunction Header({ status }) {\n    const { t } = useTranslation()\n\n    let { poolAddress } = useParams();\n    const { contract: posPoolContract } = usePosPoolContract();\n    const [lockedCfx, setLockedCfx] = useState(0);\n    const [totalRevenue, setTotalRevenue] = useState(0);\n    const [apy, setApy] = useState(0);\n    const [name, setName] = useState('loading...')\n\n    const getStatusTag = (status) => {\n        // let icon = null hypnos\n        let color = ''\n        let text = ''\n        switch (status) {\n            case StatusPosNode.loading:\n                // icon = <SyncOutlined spin style={{ transform: 'translateY(-3.5px)' }} />\n                // color = 'default' hypnos\n                color = '#5CBFF6'\n                text = t(\"Home.status_loading\")\n                break;\n            case StatusPosNode.success:\n                // icon = <CheckCircleOutlined style={{ transform: 'translateY(-3.5px)' }} />\n                // color = 'success' hypnos\n                color = '#00B47A'\n                text = t(\"Home.status_good\")\n                break;\n            case StatusPosNode.error:\n                // icon = <CloseCircleOutlined style={{ transform: 'translateY(-3.5px)' }} />\n                // color = 'error' hypnos\n                color = '#D13737'\n                text = t(\"Home.status_error\")\n                break;\n            case StatusPosNode.warning:\n                // icon = <></>\n                // color = 'warning'\n                color = '#F1B04D'\n                text = t(\"Home.status_warning\")\n                break;\n            default: break\n        }\n        // return <Tag color={color} icon={icon}>{text}</Tag>\n        return <p style={{ color: color, fontWeight: 500, margin: 0 }}>{text}</p>\n    }\n\n    useEffect(() => {\n        async function fetchData() {\n            try {\n                const proArr = [];\n                proArr.push(posPoolContract.poolSummary());\n                proArr.push(posPoolContract.poolAPY());\n                proArr.push(posPoolContract.poolName());\n\n                const data = await Promise.all(proArr);\n                const poolSummary = data[0];\n                setLockedCfx(getCfxByVote(poolSummary?.[0]?._hex || poolSummary?.[0]));\n                setTotalRevenue(\n                    new Drip(\n                        new BigNumber(poolSummary?.[2]?._hex || poolSummary?.[2]).minus(poolSummary?.[1]?._hex || poolSummary?.[1]).toNumber()\n                    ).toCFX()\n                );\n                setApy(getApy(data?.[1]?._hex || data[1]));\n                setName(data[2] || 'UnNamed')\n            } catch (error) { }\n        }\n        fetchData();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [poolAddress]);\n\n    // const cardStyle = {\n    //     backgroundColor: \"#4d5a7e\",\n    //     borderRadius: \"10px\",\n    //     color: \"#fff\",\n    //     fontWeight: \"700\",\n    // };\n    // const cardHeadStyle = { color: \"#fff\", opacity: \"0.6\" };\n    // hypnos\n    const cardStyle = {\n        // width: 240,\n        height: 94,\n        fontSize: \"20px\",\n        fontWeight: \"500\",\n        lineHeight: \"24px\",\n        marginRight: \"-1px\",\n    };\n    const cardTitle = {\n        fontSize: \"14px\",\n        lineHeight: \"18px\",\n        marginTop: \"10px\",\n        color: \"#999999\",\n    }\n    return (\n        // <div className=\"flex\">\n        //     <div className=\"flex-1 pr-4 \">\n        //         <Card\n        //             title={t(\"Home.status\")}\n        //             bordered={false}\n        //             style={cardStyle}\n        //             headStyle={cardHeadStyle}\n        //         >\n        //             {getStatusTag(status)}\n        //         </Card>\n        //     </div>\n        //     <div className=\"flex-1 pr-4\">\n        //         <Card\n        //             title={t(\"Home.pool\")}\n        //             bordered={false}\n        //             style={cardStyle}\n        //             headStyle={cardHeadStyle}\n        //         >\n        //             <div>{name}</div>\n        //         </Card>\n        //     </div>\n        //     <div className=\"flex-1 pr-4\">\n        //         <Card\n        //             title={t(\"Home.total_locked\")}\n        //             bordered={false}\n        //             style={cardStyle}\n        //             headStyle={cardHeadStyle}\n        //         >\n        //             <div>{lockedCfx}</div>\n        //         </Card>\n        //     </div>\n        //     <div className=\"flex-1 pr-4\">\n        //         <Card title={t(\"Home.total_revenue\")} bordered={false} style={cardStyle} headStyle={cardHeadStyle}>\n        //             <div>{getPrecisionAmount(totalRevenue, 5)}</div>\n        //         </Card>\n        //     </div>\n        //     <div className=\"flex-1\">\n        //         <Card title={t(\"Home.apy\")} bordered={false} style={cardStyle} headStyle={cardHeadStyle}>\n        //             <div>{apy + \"%\"}</div>\n        //         </Card>\n        //     </div>\n        // </div>\n        // hypnos\n        <div className=\"flex font-body cardRow\">\n            <div className=\"flex-1 card\">\n                <Card\n                    bordered={false}\n                    style={cardStyle}\n                >\n                    <div>{getStatusTag(status)}</div>\n                    <div style={cardTitle}>{t(\"Home.status\")}</div>\n                </Card>\n            </div>\n            <div className=\"flex-1 card\">\n                <Card\n                    bordered={false}\n                    style={cardStyle}\n                >\n                    <div>{name}</div>\n                    <div style={cardTitle}>{t(\"Home.pool\")}</div>\n                </Card>\n            </div>\n            <div className=\"flex-1 card\">\n                <Card\n                    bordered={false}\n                    style={cardStyle}\n                >\n                    <div>{lockedCfx}</div>\n                    <div style={cardTitle}>{t(\"Home.total_locked\")}</div>\n                </Card>\n            </div>\n            <div className=\"flex-1 card\">\n                <Card\n                    bordered={false}\n                    style={cardStyle}\n                >\n                    <div>{getPrecisionAmount(totalRevenue, 5)}</div>\n                    <div style={cardTitle}>{t(\"Home.total_revenue\")}</div>\n                </Card>\n            </div>\n            <div className=\"flex-1\" style={{ textAlign: \"center\" }}>\n                <Card\n                    bordered={false}\n                    style={cardStyle}\n                >\n                    <div>{apy + \"%\"}</div>\n                    <div style={cardTitle}>{t(\"Home.apy\")}</div>\n                </Card>\n            </div>\n        </div>\n    );\n}\nexport default Header;\n","import {Modal} from 'antd'\nimport {useTranslation} from 'react-i18next'\n\nfunction ConfirmModal({type, visible, setVisible, onOk}) {\n  const {t} = useTranslation()\n\n  let content = <></>\n  let okText = ''\n  switch (type) {\n    case 'stake':\n      okText = t('ConfirmModal.stake')\n      content = (\n        <div>\n          <div className=\"text-center text-error text-base font-bold mt-2 mb-4\">\n            {t('ConfirmModal.stake_1')}\n          </div>\n          <div className=\"leading-6\">{t('ConfirmModal.stake_2')}</div>\n          <div className=\"leading-6\">{t('ConfirmModal.stake_3')}</div>\n          <div className=\"leading-6\">{t('ConfirmModal.stake_4')}</div>\n        </div>\n      )\n      break\n    case 'unstake':\n      okText = t('ConfirmModal.unstake')\n      content = (\n        <div>\n          <div>{t('ConfirmModal.unstake_1')}</div>\n          <div>{t('ConfirmModal.unstake_2')}</div>\n          <div>{t('ConfirmModal.unstake_3')}</div>\n        </div>\n      )\n      break\n    default:\n      break\n  }\n  return (\n    <Modal\n      title=\"Confirm\"\n      visible={visible}\n      onOk={onOk}\n      okText={okText}\n      onCancel={() => {\n        setVisible(false)\n      }}\n    >\n      {content}\n    </Modal>\n  )\n}\nexport default ConfirmModal\n","import { Modal } from \"antd\";\nimport {useTranslation} from 'react-i18next'\n\nimport successImg from \"../../images/success_big.png\"\nimport { getEllipsStr, getNetworkUrl } from \"../../utils\"\n\nconst TxModal = ({ visible = false, txHash, setVisible }) => {\n  const {t} = useTranslation();\n  const url = getNetworkUrl()\n  return (\n    <>\n      <Modal\n        maskClosable={false}\n        visible={visible}\n        onCancel={()=>{setVisible(false)}}\n        footer={null}\n      >\n          <div className=\"flex flex-col items-center \">\n            <img src={successImg} alt=\"success\" className=\"w-14\" />\n            <div className=\"my-2\">\n            {t(\"TxModal.transaction_submitted\")}\n            </div>\n            <div className=\"\">\n              <span>\n              {t(\"TxModal.transaction_hash\")}\n              </span>\n              {txHash&&<a\n                href={`${url}/transaction/${txHash}`}\n                target=\"_blank\"\n                className=\"content ml-1\"\n                rel=\"noopener noreferrer\"\n              >\n                {getEllipsStr(txHash, 8, 0)}\n              </a>}\n            </div>\n          </div>\n      </Modal>\n    </>\n  )\n}\nexport default TxModal\n","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/tips.1ade0b7d.svg\";","import React, {useState, useEffect, useCallback} from 'react'\nimport {Input, Button, Divider, Form, List, message, Col, Row, Spin} from 'antd'\nimport {useParams, useSearchParams} from 'react-router-dom'\nimport BigNumber from 'bignumber.js'\nimport {format} from 'js-conflux-sdk/dist/js-conflux-sdk.umd.min.js'\nimport {useTranslation} from 'react-i18next'\nimport {\n  Drip,\n  getPosAccountByPowAddress,\n  conflux as confluxController,\n} from '../../utils/cfx'\nimport {\n  getCfxByVote,\n  getFee,\n  getDateByBlockInterval,\n  getMax,\n  getPrecisionAmount,\n  calculateGasMargin,\n} from '../../utils'\nimport {\n  useBalance,\n  useAccount,\n  useChainId,\n  useSendTransaction,\n  Unit,\n} from '../../hooks/useWallet'\nimport {provider as metaMaskProvider} from '@cfxjs/use-wallet/dist/ethereum'\nimport useCurrentSpace from '../../hooks/useCurrentSpace'\nimport {CFX_BASE_PER_VOTE, StatusPosNode} from '../../constants'\nimport Header from './Header'\nimport ConfirmModal from './ConfirmModal'\nimport TxModal from './TxModal'\nimport usePoolContract from '../../hooks/usePoolContract'\nimport useCurrentNetwork from '../../hooks/useCurrentNetwork'\nimport useIsNetworkMatch from '../../hooks/useIsNetworkMatch'\n\nimport tips from '../../images/tips.svg' // hypnos\n\nfunction Pool() {\n  const {t} = useTranslation()\n  const currentSpace = useCurrentSpace()\n  const chainId = useChainId()\n  const accountAddress = useAccount()\n  const sendTransaction = useSendTransaction()\n  const [form] = Form.useForm()\n  const _balance = useBalance()\n  const balance = _balance?.toDecimalStandardUnit(5)\n  const cfxMaxCanStake = getMax(balance)\n  const {poolAddress} = useParams()\n  const [searchParams] = useSearchParams()\n  const currentNetwork = useCurrentNetwork()\n\n  const {contract: posPoolContract, interface: posPoolInterface} =\n    usePoolContract()\n  const [status, setStatus] = useState(StatusPosNode.loading)\n  const [stakedCfx, setStakedCfx] = useState(0)\n  const [rewards, setRewards] = useState(0)\n  const [fee, setFee] = useState(0)\n  const [cfxCanUnstake, setCfxCanUnstate] = useState(0)\n  const [cfxCanWithdraw, setCfxCanWithdraw] = useState(0)\n  const [inputStakeCfx, setInputStakeCfx] = useState('')\n  const [inputUnstakeCfx, setInputUnstakeCfx] = useState('')\n  const [userSummary, setUserSummary] = useState([])\n  const [currentBlockNumber, setCurrentBlockNumber] = useState(0)\n  const [lastDistributeTime, setLastDistributeTime] = useState('')\n  const [unstakeList, setUnstakeList] = useState([])\n  const [stakeModalShown, setStakeModalShown] = useState(false)\n  const [unstakeModalShown, setUnStakeModalShown] = useState(false)\n  const [txModalShown, setTxModalShown] = useState(false)\n  const [txHash, setTxHash] = useState('')\n  const [stakeInputStatus, setStakeInputStatus] = useState('error')\n  const [stakeErrorText, setStakeErrorText] = useState('')\n  const [unstakeInputStatus, setUnstakeInputStatus] = useState('error')\n  const [unstakeErrorText, setUnstakeErrorText] = useState('')\n  const [stakeBtnDisabled, setStakeBtnDisabled] = useState(true)\n  const [unstakeBtnDisabled, setUnstakeBtnDisabled] = useState(true)\n  const [isLoading, setIsLoading] = useState(false)\n  const [waitStakeRes, setWaitStakeRes] = useState(false)\n  const isNetworkMatch = useIsNetworkMatch()\n\n  useEffect(() => {\n    async function fetchData() {\n      const proArr = []\n      proArr.push(\n        currentSpace === 'core'\n          ? confluxController.provider.call('cfx_getStatus')\n          : fetch(currentNetwork.url, {\n              body: JSON.stringify({\n                jsonrpc: '2.0',\n                method: 'eth_blockNumber',\n                params: [],\n                id: 83,\n              }),\n              headers: {'content-type': 'application/json'},\n              method: 'POST',\n            })\n              .then(response => response?.json())\n              .then(res => res?.result),\n      )\n      proArr.push(confluxController.provider.call('cfx_getPoSEconomics'))\n      const data = await Promise.all(proArr)\n\n      let currentBlock\n      if (currentSpace === 'core') {\n        currentBlock = new BigNumber(data[0]?.blockNumber || 0).toNumber()\n      } else {\n        currentBlock = new BigNumber(data[0] || 0).toNumber()\n      }\n      const lastDistribute = new BigNumber(\n        data[1]?.lastDistributeBlock || 0,\n      ).toNumber()\n      setCurrentBlockNumber(currentBlock)\n      setLastDistributeTime(\n        getDateByBlockInterval(\n          lastDistribute,\n          currentBlock,\n          currentSpace,\n        ).toLocaleString(),\n      )\n    }\n    fetchData()\n  }, [currentSpace, currentNetwork?.url])\n\n  useEffect(() => {\n    if (status) {\n      if (stakeErrorText) {\n        setStakeBtnDisabled(true)\n      } else {\n        setStakeBtnDisabled(false)\n      }\n    } else {\n      setStakeBtnDisabled(true)\n    }\n  }, [stakeErrorText, status])\n\n  useEffect(() => {\n    if (status) {\n      if (unstakeErrorText) {\n        setUnstakeBtnDisabled(true)\n      } else {\n        setUnstakeBtnDisabled(false)\n      }\n    } else {\n      setUnstakeBtnDisabled(true)\n    }\n  }, [unstakeErrorText, status])\n\n  useEffect(() => {\n    if (currentSpace === 'eSpace' && !searchParams.get('coreAddress')) {\n      setStatus(StatusPosNode.warning)\n      return\n    }\n\n    async function fetchData() {\n      try {\n        const posAccount = await getPosAccountByPowAddress(\n          currentSpace === 'core'\n            ? poolAddress\n            : searchParams.get('coreAddress'),\n        )\n        setStatus(\n          posAccount.status?.forceRetired == null\n            ? StatusPosNode.success\n            : StatusPosNode.error,\n        )\n      } catch (error) {\n        console.log(error)\n        setStatus(StatusPosNode.warning)\n      }\n    }\n    fetchData()\n  }, [currentSpace, searchParams, poolAddress])\n\n  useEffect(() => {\n    try {\n      const stakeCfxNum = Number(inputStakeCfx)\n      if (\n        stakeCfxNum >= CFX_BASE_PER_VOTE &&\n        stakeCfxNum <= cfxMaxCanStake &&\n        stakeCfxNum % CFX_BASE_PER_VOTE === 0\n      ) {\n        setStakeInputStatus('green')\n        setStakeErrorText('')\n      } else {\n        setStakeInputStatus('error')\n        setStakeErrorText(t('Pool.wrong_amount'))\n      }\n    } catch (error) {\n      setStakeInputStatus('error')\n      setStakeErrorText(t('Pool.wrong_amount'))\n    }\n  }, [cfxMaxCanStake, inputStakeCfx, t])\n\n  useEffect(() => {\n    try {\n      const cfxNum = Number(inputUnstakeCfx)\n      if (\n        cfxNum >= CFX_BASE_PER_VOTE &&\n        cfxNum <= cfxCanUnstake &&\n        cfxNum % CFX_BASE_PER_VOTE === 0\n      ) {\n        setUnstakeInputStatus('green')\n        setUnstakeErrorText('')\n      } else {\n        setUnstakeInputStatus('error')\n        setUnstakeErrorText(t('Pool.wrong_amount'))\n      }\n    } catch (error) {\n      setUnstakeInputStatus('error')\n      setUnstakeErrorText(t('Pool.wrong_amount'))\n    }\n  }, [cfxCanUnstake, inputUnstakeCfx, t])\n\n  function resetData() {\n    setStakedCfx(0)\n    setRewards(0)\n    setCfxCanUnstate(0)\n    setCfxCanWithdraw(0)\n  }\n\n  const fetchPoolData = useCallback(async () => {\n    if (isLoading || currentBlockNumber === 0) return\n    setIsLoading(true)\n    try {\n      const proArr = []\n      proArr.push(posPoolContract.userSummary(accountAddress))\n      proArr.push(posPoolContract.userInterest(accountAddress))\n      proArr.push(\n        (\n          posPoolContract.userOutQueue ||\n          posPoolContract['userOutQueue(address)']\n        )(accountAddress),\n      )\n\n      const data = await Promise.all(proArr)\n      const userSum = data[0]\n      setUserSummary(userSum)\n      setStakedCfx(\n        new BigNumber(userSum?.[1]?._hex || userSum[1] || 0)\n          .multipliedBy(CFX_BASE_PER_VOTE)\n          .toString(10),\n      )\n      setCfxCanUnstate(getCfxByVote(userSum?.[2]?._hex || userSum[2]))\n      setCfxCanWithdraw(getCfxByVote(userSum?.[3]?._hex || userSum[3]))\n      setRewards(\n        getPrecisionAmount(\n          new Drip(\n            new BigNumber(data[1]?._hex || data[1]).toString(10),\n          ).toCFX(),\n          5,\n        ),\n      )\n      setUnstakeList(transferQueue(data[2]))\n\n      // get user performance fee\n      let fee\n      try {\n        fee = await posPoolContract\n          .userShareRatio()\n          .call({from: accountAddress})\n      } catch (err) {\n        fee = await posPoolContract.poolUserShareRatio()\n      }\n      // console.log(\"User performance fee: \", fee);\n      setFee(getFee(fee?._hex || fee))\n\n      setIsLoading(false)\n    } catch (error) {\n      console.log('fetchPoolData error: ', error)\n      setIsLoading(false)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [accountAddress, currentBlockNumber, isLoading])\n\n  useEffect(() => {\n    if (!waitStakeRes) return\n    if (accountAddress) {\n      fetchPoolData()\n      setWaitStakeRes(false)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [balance])\n\n  useEffect(() => {\n    if (accountAddress) {\n      fetchPoolData()\n    } else {\n      resetData()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [accountAddress, currentBlockNumber])\n\n  const transferQueue = queueList => {\n    if (queueList?.length === 0) return []\n    const arr = []\n    queueList.forEach(item => {\n      const blockNumber = new BigNumber(item[1]?._hex || item[1]).toNumber()\n      if (blockNumber > currentBlockNumber) {\n        arr.push({\n          amount: getCfxByVote(item[0]?._hex || item[0]),\n          timeStr: getDateByBlockInterval(\n            blockNumber,\n            currentBlockNumber,\n            currentSpace,\n          ).toLocaleString(),\n        })\n      }\n    })\n    return arr\n  }\n\n  const onStakeChange = e => {\n    setInputStakeCfx(e.target.value)\n  }\n\n  const onUnstakeChange = e => {\n    setInputUnstakeCfx(e.target.value)\n  }\n\n  const submit = async type => {\n    if (!accountAddress) {\n      message.error('Please connect Fluent')\n      return\n    }\n\n    try {\n      let data = ''\n      let estimateData = {}\n      let value = 0\n      switch (type) {\n        case 'stake':\n          value = new BigNumber(inputStakeCfx)\n            .multipliedBy(10 ** 18)\n            .toString(10)\n          const stakeVote = new BigNumber(inputStakeCfx)\n            .dividedBy(CFX_BASE_PER_VOTE)\n            .toString(10)\n          if (currentSpace === 'core') {\n            data = posPoolContract.increaseStake(stakeVote).data\n            estimateData = await posPoolContract\n              .increaseStake(stakeVote)\n              .estimateGasAndCollateral({\n                from: accountAddress,\n                value,\n              })\n          } else {\n            data = posPoolInterface.encodeFunctionData('increaseStake', [\n              stakeVote,\n            ])\n          }\n          setWaitStakeRes(true)\n          break\n        case 'unstake':\n          value = 0\n          const unstakeVote = new BigNumber(inputUnstakeCfx)\n            .dividedBy(CFX_BASE_PER_VOTE)\n            .toString(10)\n          if (currentSpace === 'core') {\n            data = posPoolContract.decreaseStake(unstakeVote).data\n            estimateData = await posPoolContract\n              .decreaseStake(unstakeVote)\n              .estimateGasAndCollateral({\n                from: accountAddress,\n              })\n          } else {\n            data = posPoolInterface.encodeFunctionData('decreaseStake', [\n              unstakeVote,\n            ])\n          }\n          break\n        case 'claim':\n          value = 0\n          if (currentSpace === 'core') {\n            data = posPoolContract.claimAllInterest().data\n            estimateData = await posPoolContract\n              .claimAllInterest()\n              .estimateGasAndCollateral({\n                from: accountAddress,\n              })\n          } else {\n            data = posPoolInterface.encodeFunctionData('claimAllInterest', [])\n          }\n          break\n        case 'withdraw':\n          value = 0\n          if (currentSpace === 'core') {\n            data = posPoolContract.withdrawStake(\n              new BigNumber(userSummary?.[3]?._hex || userSummary[3]).toString(\n                10,\n              ),\n            ).data\n            estimateData = await posPoolContract\n              .withdrawStake(new BigNumber(userSummary[3]).toString(10))\n              .estimateGasAndCollateral({\n                from: accountAddress,\n              })\n          } else {\n            data = posPoolInterface.encodeFunctionData('withdrawStake', [\n              new BigNumber(userSummary?.[3]?._hex || userSummary[3]).toString(\n                10,\n              ),\n            ])\n          }\n          break\n        default:\n          break\n      }\n      const txParams = {\n        to:\n          currentSpace === 'core'\n            ? format.address(poolAddress, Number(chainId))\n            : poolAddress,\n        data,\n        value: Unit.fromMinUnit(value).toHexMinUnit(),\n      }\n\n      if (currentSpace === 'eSpace') {\n        estimateData.gasLimit = await metaMaskProvider.request({\n          method: 'eth_estimateGas',\n          params: [\n            {\n              from: accountAddress,\n              data,\n              to: poolAddress,\n              value: Unit.fromMinUnit(value).toHexMinUnit(),\n            },\n          ],\n        })\n      }\n      if (estimateData?.gasLimit) {\n        txParams.gas = Unit.fromMinUnit(\n          calculateGasMargin(estimateData?.gasLimit || 0),\n        ).toHexMinUnit()\n      }\n      if (estimateData?.storageCollateralized) {\n        txParams.storageLimit = Unit.fromMinUnit(\n          calculateGasMargin(String(estimateData?.storageCollateralized || 0)),\n        ).toHexMinUnit()\n      }\n\n      if (stakeModalShown) {\n        setStakeModalShown(false)\n      }\n      if (unstakeModalShown) {\n        setUnStakeModalShown(false)\n      }\n      const txHash = await sendTransaction(txParams)\n      setTxHash(txHash)\n      setTxModalShown(true)\n    } catch (error) {\n      // hypnos+test\n      let reg = RegExp('not enough unlocked staking balance to withdraw')\n      if (reg.test(error)) {\n        message.error(\n          error +\n            'it may takes longer than expected for your staked votes to be unlocked, please wait a few hours before try to withdraw again',\n        )\n      }\n      console.error('error', error)\n    }\n  }\n\n  const checkNetwork = callback => {\n    if (!isNetworkMatch) {\n      return\n    }\n\n    if (typeof callback === 'function') callback()\n  }\n\n  return (\n    // <div className=\"relative w-full h-full flex\">\n    // hypnos\n    <div className=\"w-full flex font-body font-medium relative\">\n      {isLoading && (\n        <Spin\n          className=\"top-[50%] left-[50%] -translate-x-[50%] -translate-y-[50%]\"\n          style={{position: 'absolute'}}\n        ></Spin>\n      )}\n      {/* <div className=\"container mx-auto\"> hypnos*/}\n      <div className=\"container mx-auto\" style={{width: 1200}}>\n        <Header status={status} />\n        <div className=\"flex justify-center mt-6\">\n          {/* <div className=\"w-9/12\"> hypnos*/}\n          <div className=\"w-full\">\n            {/* <div className=\"flex\"> hypnos*/}\n            <div className=\"flex h-full\">\n              {/* <div className=\"flex-1 p-6 mr-4 -ml-2 border-gray-800 border-2 text-white box-border rounded bg-main-back\"> hypnos*/}\n              <div className=\"flex-1 border-gray-800 border-2 text-black box-border rounded bg-main-back pl-[32px] pr-[16px]\">\n                <Form\n                  layout=\"vertical\"\n                  form={form}\n                  wrapperCol={{style: {color: 'white'}}}\n                  // style={{ color: 'white' }}\n                  // hypnbos\n                  style={{width: 524}}\n                >\n                  {/* <div className=\"font-bold my-4 text-xl text-center\">\n                                        {t('Pool.stake&unstake')}\n                                    </div> hypnos*/}\n                  <div className=\"font-bold my-6 text-base text-center\">\n                    {t('Pool.stake&unstake')}\n                  </div>\n                  {/* <div className=\"my-2\">{t('Pool.how_much_stake')}</div> hypnos*/}\n                  <div className=\"font-medium my-2 text-sm text-gray-400\">\n                    {t('Pool.how_much_stake')}\n                  </div>\n                  <Form.Item\n                    required\n                    validateStatus={stakeInputStatus}\n                    help={stakeErrorText}\n                  >\n                    <Row>\n                      {/* <Col span={21}> hypnos*/}\n                      <Col span={24}>\n                        <Input\n                          // hypnos+s\n                          style={{\n                            color: '#333333',\n                            width: '100%',\n                            height: 40,\n                            fontWeight: '500',\n                            background: '#F8F8F8',\n                          }}\n                          placeholder={t('Pool.enter_cfx_amount')}\n                          //   addonAfter={<span>Max</span>}\n                          value={inputStakeCfx}\n                          onChange={onStakeChange}\n                          // hypnos+sf\n                          suffix=\"CFX\"\n                        />\n                      </Col>\n                      {/* hypnos-c */}\n                      {/* <Col span={3}>\n                                                <Button\n                                                    disabled={isLoading}\n                                                    onClick={() => {\n                                                        setInputStakeCfx(cfxMaxCanStake)\n                                                    }}\n                                                >\n                                                    {t('Pool.max')}\n                                                </Button>\n                                            </Col> */}\n                    </Row>\n                  </Form.Item>\n                  {/* <div> hypnos*/}\n                  <div className=\"font-medium\">\n                    <span>{t('Pool.balance')}</span>\n                    {/* <span className=\"ml-2 font-bold\">{balance}</span> hypnos*/}\n                    <span className=\"ml-2\">{balance}</span>\n                    <span> CFX</span>\n                    {/* hypnos+B */}\n                    <Button\n                      style={{\n                        border: 'none',\n                        fontWeight: '500',\n                        color: '#1E3DE4',\n                      }}\n                      onClick={() => {\n                        setInputStakeCfx(cfxMaxCanStake)\n                      }}\n                    >\n                      MAX\n                    </Button>\n                  </div>\n                  <div className=\"flex mt-2\">\n                    <Button\n                      // hypnos+s\n                      style={{\n                        width: 140,\n                        height: 40,\n                        lineHeight: '18px',\n                        fontWeight: '500',\n                        background: '#546FFF',\n                        color: 'white',\n                      }}\n                      type=\"primary\"\n                      // size=\"middle\" hypnos\n                      onClick={() => {\n                        checkNetwork(() => setStakeModalShown(true))\n                      }}\n                      disabled={isLoading || stakeBtnDisabled}\n                      //   disabled=\"true\"\n                    >\n                      {t('Pool.stake')}\n                    </Button>\n                  </div>\n                  {/* <Divider dashed style={{ borderColor: 'white' }} /> hypnos*/}\n                  <Divider dashed style={{borderColor: '#DDDDDD'}} />\n                  {/* <div className=\"my-1\">{t('Pool.how_much_unstake')}</div> hypnos*/}\n                  <div className=\"font-medium my-2 text-sm text-gray-400\">\n                    {t('Pool.how_much_unstake')}\n                  </div>\n                  <Form.Item\n                    required\n                    validateStatus={unstakeInputStatus}\n                    help={unstakeErrorText}\n                  >\n                    <Row>\n                      {/* <Col span={21}> hypnos*/}\n                      <Col span={24}>\n                        <Input\n                          // hypnos+s\n                          style={{\n                            color: '#333333',\n                            width: '100%',\n                            height: 40,\n                            fontWeight: '500',\n                            backgroundColor: '#F8F8F8',\n                          }}\n                          placeholder={t('Pool.enter_cfx_amount')}\n                          value={inputUnstakeCfx}\n                          onChange={onUnstakeChange}\n                          // hypnos+sf\n                          suffix=\"CFX\"\n                        />\n                      </Col>\n                      {/* hypnos-c */}\n                      {/* <Col span={3}>\n                                                <Button\n                                                    onClick={() => {\n                                                        setInputUnstakeCfx(cfxCanUnstake)\n                                                    }}\n                                                    disabled={isLoading}\n                                                >\n                                                    {t('Pool.max')}\n                                                </Button>\n                                            </Col> */}\n                    </Row>\n                  </Form.Item>\n\n                  {/* <div> hypnos*/}\n                  <div className=\"font-medium\">\n                    <span>{t('Pool.unstakeable')}</span>\n                    {/* <span className=\"ml-2 font-bold\">{cfxCanUnstake}</span> hypnos*/}\n                    <span className=\"ml-2\">{cfxCanUnstake}</span>\n                    <span> CFX</span>\n                    {/* hypnos+B */}\n                    <Button\n                      style={{\n                        border: 'none',\n                        fontWeight: '500',\n                        color: '#1E3DE4',\n                      }}\n                      onClick={() => {\n                        setInputUnstakeCfx(cfxCanUnstake)\n                      }}\n                    >\n                      MAX\n                    </Button>\n                  </div>\n                  <div className=\"flex mt-2\">\n                    <Button\n                      // hypnos+s\n                      style={{\n                        width: 140,\n                        height: 40,\n                        lineHeight: '18px',\n                        fontWeight: '500',\n                        background: '#546FFF',\n                        color: 'white',\n                      }}\n                      type=\"primary\"\n                      // size=\"middle\" hypnos\n                      onClick={() => {\n                        checkNetwork(() => setUnStakeModalShown(true))\n                      }}\n                      disabled={isLoading || unstakeBtnDisabled}\n                    >\n                      {t('Pool.unstake')}\n                    </Button>\n                  </div>\n                </Form>\n              </div>\n              {/* hypnos+d */}\n              <div className=\"w-[24px]\"></div>\n              {/* <div className=\"flex-1 p-6 border-gray-800 border-2 box-border rounded bg-main-back text-white\"> hypnos*/}\n              <div className=\"flex-1 p-6 border-gray-800 border-2 box-border rounded bg-main-back text-black font-medium\">\n                {/* <div className=\"font-bold my-4 text-xl text-center mb-4\">\n                                    {t('Pool.my_pool')}\n                                </div> hypnos*/}\n                <div className=\"font-bold mt-1 text-base text-center\">\n                  {t('Pool.my_pool')}\n                </div>\n                {/* hypnos+d */}\n                <div className=\"my-1 text-gray-400 text-center text-xs\">\n                  <span>{t('Pool.last_update_time')}</span>\n                  <span>{lastDistributeTime}</span>\n                </div>\n                {/* hypnos-2d */}\n                {/* <div className=\"mt-7\">\n                                    <span>{t('Pool.my_staked')}</span>\n                                    <span className=\"ml-2 font-bold\">{stakedCfx}</span>\n                                    <span> CFX</span>\n                                </div>\n                                <div className=\"my-4\">\n                                    <span>{t('Pool.my_rewards')}</span>\n                                    <span className=\"ml-2 font-bold\">{rewards}</span>\n                                    <span> CFX</span>\n                                    <span className=\"ml-2\">\n                                        <Button\n                                            type=\"primary\"\n                                            size=\"small\"\n                                            onClick={() => {\n                                                checkNetwork(() => submit('claim'))\n                                            }}\n                                            disabled={isLoading || new BigNumber(rewards).isEqualTo(0)}\n                                        >\n                                            {t('Pool.claim')}\n                                        </Button>\n                                    </span>\n                                </div> */}\n                {/* hypnos-2d */}\n                {/* <div className=\"my-2 opacity-60\">\n                                    <span>{t('Pool.last_update_time')}</span>\n                                    <span>{lastDistributeTime}</span>\n                                </div>\n                                <div className=\"my-4\">\n                                    <span>{t('Pool.performance_fee')}</span>\n                                    <span className=\"ml-2 font-bold\">{`${fee} %`}</span>\n                                </div> */}\n                {/* hypnos+R */}\n                <Row className=\"vertical-top w-full mt-4\">\n                  <Col span={7} offset={1}>\n                    <span className=\"font-normal\">{t('Pool.my_staked')}</span>\n                    <br />\n                    <span className=\"text-m\">{stakedCfx}</span>\n                    <span className=\"text-xs text-gray-500\"> CFX</span>\n                    <br />\n                    <br />\n                    <Button\n                      style={{\n                        width: 140,\n                        height: 40,\n                        lineHeight: '18px',\n                        fontWeight: '500',\n                        background: '#546FFF',\n                        color: 'white',\n                      }}\n                      type=\"primary\"\n                      onClick={() => {\n                        checkNetwork(() => submit('claim'))\n                      }}\n                      disabled={new BigNumber(rewards).isEqualTo(0)}\n                    >\n                      {t('Pool.claim')}\n                    </Button>\n                  </Col>\n                  <Col span={6} offset={2}>\n                    <span className=\"font-normal \">{t('Pool.my_rewards')}</span>\n                    <br />\n                    <span className=\"text-m\" style={{color: '#1E3DE4'}}>\n                      {rewards}\n                    </span>\n                    <span className=\"text-xs text-gray-500\"> CFX</span>\n                  </Col>\n                  <Col span={6} offset={2}>\n                    <span className=\"font-normal \">\n                      {t('Pool.performance_fee')}\n                    </span>\n                    <br />\n                    <span className=\"text-m\">{`${fee} %`}</span>\n                  </Col>\n                </Row>\n                <Divider dashed style={{borderColor: 'white'}} />\n                <div>\n                  {/* <span>{t('Pool.withdrawable')}</span> hypnos*/}\n                  <span className=\"font-normal text-base ml-6\">\n                    {t('Pool.withdrawable')}\n                  </span>\n                  {/* <span className=\"ml-2 font-bold\">{cfxCanWithdraw}</span>\n                                    <span> CFX</span> hypnos*/}\n                  <span\n                    className=\"float-right text-m font-bold\"\n                    style={{color: '#1E3DE4'}}\n                  >\n                    {cfxCanWithdraw}\n                    <span className=\"text-xs text-gray-500\"> CFX</span>\n                  </span>\n                  <br />\n                  <br />\n                  {/* <span className=\"ml-2\">\n                                        <Button\n                                            type=\"primary\"\n                                            size=\"small\"\n                                            onClick={() => {\n                                                checkNetwork(() => submit('withdraw'))\n                                            }}\n                                            disabled={isLoading || !cfxCanWithdraw}\n                                        >\n                                            {t('Pool.withdraw')}\n                                        </Button>\n                                    </span> hypnos*/}\n                  <Button\n                    className=\"ml-6\"\n                    style={{\n                      width: 140,\n                      height: 40,\n                      lineHeight: '18px',\n                      fontWeight: '500',\n                      background: '#546FFF',\n                      color: 'white',\n                    }}\n                    type=\"primary\"\n                    onClick={() => {\n                      checkNetwork(() => submit('withdraw'))\n                    }}\n                    disabled={!cfxCanWithdraw}\n                  >\n                    {t('Pool.withdraw')}\n                  </Button>\n                </div>\n                {/* hypnos+d */}\n                <div className=\"w-[524px] h-[78px] mt-10 ml-6\">\n                  <img src={tips} alt=\"\" />\n                </div>\n              </div>\n            </div>\n            <div className={`${unstakeList.length > 0 ? 'block' : 'hidden'}`}>\n              {/* <Divider\n                                dashed\n                                orientation=\"left\"\n                                style={{ borderColor: 'white', color: 'white' }}\n                            >\n                                {t('Pool.unstake_activity')}\n                            </Divider> hypnos*/}\n              <Divider\n                dashed\n                orientation=\"left\"\n                style={{borderColor: '#333333', color: '#333333'}}\n              >\n                {t('Pool.unstake_activity')}\n              </Divider>\n              <List\n                // hypnos+s\n                style={{borderColor: '#333333'}}\n                bordered\n                dataSource={unstakeList}\n                renderItem={item => (\n                  <List.Item>\n                    {/* <div className=\"text-white\">{`${item.amount} CFX`}</div> hypnos*/}\n                    <div className=\"text-black\">{`${item.amount} CFX`}</div>\n                    {/* <div className=\"text-white\">\n                                            {t('Pool.can_withdraw_at', { time: item.timeStr })}\n                                        </div> hypnos*/}\n                    <div className=\"text-black\">\n                      {t('Pool.can_withdraw_at', {time: item.timeStr})}\n                    </div>\n                  </List.Item>\n                )}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n      <ConfirmModal\n        visible={stakeModalShown}\n        setVisible={setStakeModalShown}\n        type=\"stake\"\n        onOk={() => {\n          submit('stake')\n        }}\n      ></ConfirmModal>\n      <ConfirmModal\n        visible={unstakeModalShown}\n        setVisible={setUnStakeModalShown}\n        type=\"unstake\"\n        onOk={() => {\n          submit('unstake')\n        }}\n      ></ConfirmModal>\n      <TxModal\n        visible={txModalShown}\n        setVisible={setTxModalShown}\n        txHash={txHash}\n      ></TxModal>\n    </div>\n  )\n}\n\nexport default Pool\n","import {Suspense} from 'react'\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  Navigate,\n} from 'react-router-dom'\nimport {Spin, Layout} from 'antd'\n\nimport './App.css'\nimport {Header} from './pages/components'\n// import Home from \"./pages/Home\"; hypnos\nimport Pool from './pages/Pool'\n\nconst {Content} = Layout\n\nfunction App() {\n  return (\n    <Suspense\n      fallback={\n        <div className=\"w-full h-full flex items-center justify-center\">\n          <Spin className=\"w-20 h-20\" />\n        </div>\n      }\n    >\n      <Router>\n        <Layout className=\"layout\">\n          {/* <div className=\"flex flex-col h-full relative overflow-x-hidden\"> hypnos*/}\n          <div\n            className=\"flex flex-col h-[1000px] relative overflow-x-hidden bg-hydragon bg-no-repeat bg-top\"\n            style={{backgroudSize: '1920px 348px'}}\n          >\n            <Header />\n            {/* <Content style={{ padding: \"50px 50px\",backgroundColor:'#2d3344' }}> hypnos */}\n            <Content\n              style={{marginTop: '150px', backgroundColor: 'transparent'}}\n            >\n              <div>\n                <Routes>\n                  {/* <Route path=\"pool-manage\" element={<Home />} />\n                  <Route path=\"pool/core/:poolAddress\" element={<Pool />} />\n                  <Route path=\"pool/e-space/:poolAddress\" element={<Pool />} />\n                  <Route path=\"*\" element={<Navigate to=\"pool-manage\"/>} /> hypnos*/}\n                  <Route path=\"pool/core/:poolAddress\" element={<Pool />} />\n                  <Route path=\"pool/e-space/:poolAddress\" element={<Pool />} />\n                  <Route\n                    path=\"/\"\n                    element={\n                      <Navigate to=\"pool/core/0x82c692e9d7e5403fe024ac34f9d4af070de45e0a\" />\n                    }\n                  />\n                </Routes>\n              </div>\n            </Content>\n            {/* <Footer style={{ textAlign: 'center' }}>PoS Pool</Footer> */}\n          </div>\n        </Layout>\n      </Router>\n    </Suspense>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {completeDetect} from '@cfxjs/use-wallet';\nimport {completeDetect as completeDetectEthereum} from '@cfxjs/use-wallet/dist/ethereum';\nimport '../public/locales';\n\nPromise.all([completeDetect(), completeDetectEthereum()]).then(() => {\n  ReactDOM.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n});\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","module.exports = {\n  defaultLang: 'en',\n  testnet: {\n    poolManagerAddress: 'cfxtest:xxxxtestnet',\n    core: {\n      name: \"Conflux Testnet\", \n      RPC: 'https://test.confluxrpc.com',\n      networkId: 1\n    },\n    eSpace: {\n      name: \"Conflux eSpace (Testnet)\", \n      RPC: 'https://evmtestnet.confluxrpc.com',\n      networkId: 71\n    }\n  },\n  mainnet: {\n    poolManagerAddress: 'cfx:xxxxmainnet',\n    core: {\n      name: \"Conflux Hydra\", \n      RPC: 'https://main.confluxrpc.com',\n      networkId: 1029\n    },\n    eSpace: {\n      name: \"Conflux eSpace\", \n      RPC: 'https://evm.confluxrpc.com',\n      networkId: 1030\n    }\n  }\n}"],"sourceRoot":""}